(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[674],{1148:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>v});var a=s(5155),n=s(2115),r=s(6907),c=s(198),i=s(5299),l=s(9867),o=s(5740),d=s(6667),m=s(3394),x=s(5016);function u(e){let{children:t,variant:s="muted",className:n}=e;return(0,a.jsx)("span",{className:(0,x.cn)("inline-flex items-center rounded-full px-3 py-1 text-xs",{mint:"bg-accent-mint/15 text-accent-mint border border-accent-mint/30",blue:"bg-accent-blue/15 text-accent-blue border border-accent-blue/30",muted:"bg-white/5 text-base-text border border-white/10"}[s],n),children:t})}var b=s(7003),h=s(3209);let p={type:"idle",message:"Esperando selecci\xf3n de archivos…"},g={idle:"text-base-muted",info:"text-accent-blue",ok:"text-accent-mint",warn:"text-amber-300",error:"text-red-300"},f={idle:"muted",info:"blue",ok:"mint",warn:"blue",error:"blue"};async function j(e){let t=await m.PDFDocument.create(),s=[],a=[];for(let n of e){if(!n)continue;let e=n.name||"archivo.pdf";if(!("application/pdf"===n.type||e.toLowerCase().endsWith(".pdf"))){s.push({name:e,reason:"Tipo de archivo no es PDF."});continue}try{let a=await n.arrayBuffer(),r=await m.PDFDocument.load(a,{ignoreEncryption:!0}),c=r.getPageCount();if(0===c){s.push({name:e,reason:"El PDF no contiene p\xe1ginas."});continue}(await t.copyPages(r,Array.from({length:c},(e,t)=>t))).forEach(e=>t.addPage(e))}catch(t){a.push({name:e,error:(null==t?void 0:t.message)||"Error desconocido"})}}if(0===t.getPageCount())throw Error("No se pudo generar el PDF combinado (no se a\xf1adi\xf3 ninguna p\xe1gina).");return{bytes:await t.save(),skipped:s,failed:a}}function v(){let e=(0,n.useRef)(null),[t,s]=(0,n.useState)([]),[m,v]=(0,n.useState)(p),[N,w]=(0,n.useState)([]),[y,P]=(0,n.useState)([]),[F,D]=(0,n.useState)(!1),E=N.length>0||y.length>0,k=(0,n.useMemo)(()=>t.length>1?"El orden de combinaci\xf3n ser\xe1 el mismo que tu selecci\xf3n.":"Puedes seleccionar m\xfaltiples archivos a la vez.",[t.length]),C=async()=>{if(!t.length)return void v({type:"warn",message:"Selecciona al menos un archivo PDF."});D(!0),w([]),P([]),v({type:"info",message:"Procesando PDFs… Esto puede tardar seg\xfan el tama\xf1o y cantidad."});let e=performance.now();try{let{bytes:s,skipped:a,failed:n}=await j(t),r=new Blob([s],{type:"application/pdf"}),c=URL.createObjectURL(r),i=document.createElement("a");i.href=c,i.download=function(){let e=new Date,t=e=>e.toString().padStart(2,"0");return"merged-".concat(e.getFullYear()).concat(t(e.getMonth()+1)).concat(t(e.getDate()),"-").concat(t(e.getHours())).concat(t(e.getMinutes())).concat(t(e.getSeconds()),".pdf")}(),document.body.appendChild(i),i.click(),i.remove(),URL.revokeObjectURL(c);let l=t.length,o=l-a.length-n.length,d=performance.now()-e;w(a),P(n),v({type:"ok",message:"Combinaci\xf3n completada. Archivos combinados: ".concat(o,"/").concat(l,". Tiempo: ").concat(d.toFixed(0)," ms.")})}catch(e){v({type:"error",message:"Ocurri\xf3 un error al combinar los PDFs: ".concat((null==e?void 0:e.message)||String(e))})}finally{D(!1)}};return(0,a.jsx)("main",{className:"min-h-screen bg-page-gradient bg-grid text-base-text",children:(0,a.jsxs)("div",{className:"mx-auto flex max-w-6xl flex-col gap-6 px-4 py-10 lg:flex-row lg:items-start lg:px-8",children:[(0,a.jsxs)(h.Zp,{className:"flex-1 border-white/10 bg-base-surface/90",children:[(0,a.jsxs)(h.aR,{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"flex h-12 w-12 items-center justify-center rounded-full border border-accent-mint/30 bg-accent-mint/10 text-lg font-semibold text-accent-mint shadow-lg shadow-accent-mint/15",children:"PDF"}),(0,a.jsxs)("div",{children:[(0,a.jsx)(h.ZB,{className:"text-xl",children:"Combinar PDFs (local)"}),(0,a.jsx)(h.BT,{className:"text-base-muted",children:"Selecciona varios PDFs y comb\xednalos en tu navegador con pdf-lib. Nada se sube a servidores."})]})]}),(0,a.jsxs)(u,{variant:"mint",className:"gap-2",children:[(0,a.jsx)(r.A,{className:"h-4 w-4"}),"Local y privado"]})]}),(0,a.jsxs)(h.Wu,{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{htmlFor:"fileInput",className:"text-sm font-semibold text-base-text/90",children:"1. Selecciona uno o m\xe1s archivos PDF"}),(0,a.jsx)("input",{id:"fileInput",ref:e,type:"file",accept:"application/pdf,.pdf",multiple:!0,onChange:e=>{var t;let a=Array.from(null!=(t=e.target.files)?t:[]);s(a),w([]),P([]),v(a.length?{type:"info",message:"Has seleccionado ".concat(a.length,' archivo(s). Pulsa "Combinar y descargar".')}:p)},className:"w-full cursor-pointer rounded-lg border border-white/10 bg-base-bg/60 px-4 py-3 text-sm text-base-text file:mr-4 file:cursor-pointer file:rounded-md file:border-0 file:bg-accent-mint/20 file:px-3 file:py-2 file:text-sm file:font-semibold file:text-accent-mint hover:border-accent-mint/40 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent-mint/60"}),(0,a.jsx)("div",{className:(0,x.cn)("rounded-lg border border-white/5 bg-base-bg/50 p-3 text-sm text-base-text/90",0===t.length&&"text-base-muted border-dashed"),children:0===t.length?(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-base-muted",children:[(0,a.jsx)(c.A,{className:"h-4 w-4"}),"No hay archivos seleccionados."]}):(0,a.jsx)("ul",{className:"space-y-1",children:t.map((e,t)=>{var s;return(0,a.jsxs)("li",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"rounded-full bg-white/5 px-2 py-0.5 text-xs text-base-muted",children:t+1}),(0,a.jsx)("span",{className:"truncate text-sm",children:e.name}),(0,a.jsxs)("span",{className:"text-xs text-base-muted",children:["(",(s=e.size,"".concat((s/1048576).toFixed(2)," MB")),")"]})]},"".concat(e.name,"-").concat(t))})})}),(0,a.jsx)("p",{className:"text-xs text-base-muted",children:k})]}),(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-3",children:[(0,a.jsxs)(b.$,{onClick:C,disabled:F,className:"gap-2",children:[F?(0,a.jsx)(i.A,{className:"h-4 w-4 animate-spin"}):(0,a.jsx)(l.A,{className:"h-4 w-4"}),"Combinar y descargar"]}),(0,a.jsx)(b.$,{variant:"ghost",onClick:()=>{s([]),w([]),P([]),v(p),e.current&&(e.current.value="")},disabled:F||0===t.length,children:"Limpiar selecci\xf3n"}),(0,a.jsxs)(u,{variant:"muted",className:"gap-2",children:[(0,a.jsx)(o.A,{className:"h-4 w-4 text-accent-blue"}),"Usa pdf-lib en el navegador"]})]}),(0,a.jsx)("div",{className:"rounded-lg border border-white/10 bg-white/5 px-4 py-3",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(u,{variant:f[m.type],children:"Estado"}),(0,a.jsx)("span",{className:(0,x.cn)("text-sm",g[m.type]),children:m.message})]})}),E&&(0,a.jsxs)("details",{className:"rounded-lg border border-white/10 bg-base-bg/70 p-4 text-sm text-base-muted",children:[(0,a.jsx)("summary",{className:"cursor-pointer text-base-text",children:"Ver detalles de omitidos / errores"}),(0,a.jsxs)("div",{className:"mt-3 space-y-2",children:[N.length>0&&(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-semibold text-base-text",children:"Archivos omitidos:"}),(0,a.jsx)("ul",{className:"ml-4 list-disc space-y-1",children:N.map((e,t)=>(0,a.jsxs)("li",{children:[(0,a.jsx)("span",{className:"text-base-text",children:e.name}),":"," ",e.reason]},"".concat(e.name,"-").concat(t)))})]}),y.length>0&&(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-semibold text-base-text",children:"Archivos con error:"}),(0,a.jsx)("ul",{className:"ml-4 list-disc space-y-1",children:y.map((e,t)=>(0,a.jsxs)("li",{children:[(0,a.jsx)("span",{className:"text-base-text",children:e.name}),":"," ",e.error]},"".concat(e.name,"-").concat(t)))})]})]})]})]})]}),(0,a.jsxs)(h.Zp,{className:"w-full max-w-xl border-white/10 bg-base-surface/80",children:[(0,a.jsxs)(h.aR,{children:[(0,a.jsxs)(h.ZB,{className:"flex items-center gap-2 text-lg",children:[(0,a.jsx)(d.A,{className:"h-5 w-5 text-accent-mint"}),"Trucos r\xe1pidos"]}),(0,a.jsx)(h.BT,{className:"text-base-muted",children:"Consejos para que la combinaci\xf3n sea m\xe1s confiable y ligera."})]}),(0,a.jsxs)(h.Wu,{className:"space-y-4 text-sm text-base-muted",children:[(0,a.jsxs)("div",{className:"rounded-lg border border-white/10 bg-white/5 p-3",children:[(0,a.jsx)("p",{className:"font-semibold text-base-text",children:"Ordena antes de cargar"}),(0,a.jsx)("p",{children:"El orden sigue tu selecci\xf3n. Repite la carga si quieres reorganizar."})]}),(0,a.jsxs)("div",{className:"rounded-lg border border-white/10 bg-white/5 p-3",children:[(0,a.jsx)("p",{className:"font-semibold text-base-text",children:"Mant\xe9nlo local"}),(0,a.jsx)("p",{children:"El procesamiento ocurre solo en tu navegador. Ideal para documentos sensibles."})]}),(0,a.jsxs)("div",{className:"rounded-lg border border-white/10 bg-white/5 p-3",children:[(0,a.jsx)("p",{className:"font-semibold text-base-text",children:"Evita archivos da\xf1ados"}),(0,a.jsx)("p",{children:"Si un PDF falla o est\xe1 vac\xedo se omitir\xe1; revisa el panel de detalles para m\xe1s info."})]})]})]})]})})}},3209:(e,t,s)=>{"use strict";s.d(t,{BT:()=>l,Wu:()=>o,ZB:()=>i,Zp:()=>r,aR:()=>c});var a=s(5155),n=s(5016);function r(e){let{children:t,className:s}=e;return(0,a.jsx)("div",{className:(0,n.cn)("rounded-xl border border-white/10 bg-base-surface/80 backdrop-blur-sm shadow-lg shadow-black/20",s),children:t})}function c(e){let{children:t,className:s}=e;return(0,a.jsx)("div",{className:(0,n.cn)("px-5 pt-5",s),children:t})}function i(e){let{children:t,className:s}=e;return(0,a.jsx)("h3",{className:(0,n.cn)("text-lg font-semibold text-base-text",s),children:t})}function l(e){let{children:t,className:s}=e;return(0,a.jsx)("p",{className:(0,n.cn)("text-sm text-base-muted",s),children:t})}function o(e){let{children:t,className:s}=e;return(0,a.jsx)("div",{className:(0,n.cn)("px-5 pb-5",s),children:t})}},5016:(e,t,s)=>{"use strict";s.d(t,{cn:()=>r});var a=s(2821),n=s(5889);function r(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,n.QP)((0,a.$)(t))}},7003:(e,t,s)=>{"use strict";s.d(t,{$:()=>l});var a=s(5155),n=s(2885),r=s(5016),c=s(2115);let i=(0,n.F)("inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-offset-base-bg disabled:opacity-50 disabled:pointer-events-none",{variants:{variant:{default:"bg-accent-mint text-base-bg hover:bg-[#4bcaa9] ring-accent-mint",outline:"border border-accent-mint/60 text-accent-mint hover:bg-accent-mint/10 ring-accent-mint",ghost:"text-base-text hover:bg-white/5 ring-accent-blue"},size:{sm:"h-9 px-3",md:"h-10 px-4",lg:"h-12 px-5 text-base"}},defaultVariants:{variant:"default",size:"md"}}),l=(0,c.forwardRef)((e,t)=>{let{className:s,variant:n,size:c,...l}=e;return(0,a.jsx)("button",{ref:t,className:(0,r.cn)(i({variant:n,size:c,className:s})),...l})});l.displayName="Button"},9832:(e,t,s)=>{Promise.resolve().then(s.bind(s,1148))}},e=>{e.O(0,[909,654,441,255,358],()=>e(e.s=9832)),_N_E=e.O()}]);